\documentclass[a4paper,10pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath,amssymb}
\usepackage{enumerate}
\usepackage{ngerman}
%\usepackage{graphicx}
\usepackage{ifpdf}
\usepackage[usenames]{color}
\usepackage[left=2.5cm,right=2.5cm,top=2.5cm,bottom=2.5cm]{geometry}
\usepackage[titles]{tocloft}
\usepackage[colorlinks=true,linkcolor=black]{hyperref}
\usepackage[pdftex]{graphicx}
\usepackage{geometry}
%\geometry{top=0cm,bottom=0cm,left=0cm,right=0cm,nohead,nofoot}


\title{Entwurf}
\date{}

\author{Usman Ghani Ahmed \\
Philip Caroli\\
Maximilian Madlung\\ 
Jeremias Mechler\\ 
Fabian Neundorf}

\ifpdf
\DeclareGraphicsExtensions{.pdf,.png}
\else
\DeclareGraphicsExtensions{.eps}
\fi

% Einr√ºckung bei Abs√§tzen
\setlength{\parindent}{0mm}
% Zeilenabstand bei Abs√§tzen
\setlength{\parskip}{2mm}

\begin{document}
 
\vspace{5cm}
\maketitle
\begin{center}
\vspace{3cm}
\huge{Praxis der Softwareentwicklung \\
Gruppe 3 \\[0.5cm]
Entwicklung eines "`Monopoly"'-√§hnlichen Spiels \\[0.5cm]
%\includegraphics[height=2cm]{kitlogo_de_rgb}  \\[0.5cm]
WS 2010 / 2011} \\[2cm]
Version 1.1
%\textcolor{red}{! DRAFT !}
\end{center}

\newpage

\tableofcontents

\newpage

\section{KI-Client}

\subsection{Allgemeines}
Feature X ist wegen ... noch nicht voll funktionsf√§hig
\subsection{Bekannte Fehler / Probleme}
\subsection{√Ñnderungen gegen√ºber dem Entwurf}
\subsection{Entwurfsentscheidungen}

\section OjimServer
\subsection{Allgemeines}
\subsection {√Ñnderungen gegen√ºber dem Entwurf}
\begin{itemize}
\item Der Server beinhaltet nun eine M√∂glichkeit ihn √ºber die Kommandozeile zu starten und zu beenden
\item Der Server bekommt am Anfang die maximale Spielerzahl und die Computerspielerzahl √ºbergeben
\item Die Funktionalit√§t der Methoden aus IServer, IServerTrade und IServerAuction werden wie im Entwurf vorgesehen implementiert, einzelne Abl√§ufe und Folgeaktionen waren im Entwurf aber nicht genau vorgeschrieben.
\item Der √úbersichtlichkeit halber wurden einige privaten Methoden eingef√ºgt, beispielsweise
\begin{itemize}
\item private boolean checkAllPlayersReady()
\end{itemize}
\item Es gab ein paar Namens‰nderungen im package org.ojim.rmi.server 
\begin{itemize}
\item BufferServer wurde ge‰ndert in StartNetOjim
\item ImplBuffer wurde ge‰ndert in ImplNetOjim
\end{itemize}
\item Network Klasse wurde weggelassen, da die RMI die Verbingsschicht ¸berdeckt und die Sockets selber managt
\item Da der Server auch in der Lage sein muss entfernte Methoden in den Clients aufzurufen, sind wir auf Callbacks angewiesen Zu diesem Zweck sind noch folgende Klassen hinzugekommen , die f¸r den Server Methoden zur Verf¸gung stellen welche aus einer anderen JVM aufgerufen werden kˆnnen
\begin{itemize}
\item interface NetClient extends Remote : spezifiziert alle Methoden die ¸ber das Netzwerk vom Server aufgerufen werden kˆnnen 
\item ImplNetClient extends UnicastRemoteObject implements NetOjim: implementiert die Methoden des Interfaces
\item StartNetClient Startet einen neuen Client und holt sich eine Referenz vom Namendienst der im Server gestartet wurde
\end{itemize}

\section{ClientBase}
\subsection {√Ñnderungen gegen√ºber dem Entwurf}
\subsubsection{SimpleClient}
Da der KI Client verschiedene "Command"-Klassen hat, ben√∂tigen diese Zugriff auf den IServer ohne sich selber als neuen Client einzuloggen. Deshalb wurde eine vereinfachte Client Klasse geschrieben. Von dieser k√∂nnen dann alle Command Klassen des KI Clients, sowie ClientBase erben.

Die Klasse SimpleClient dabei implementiert nicht das IClient Interface, um eben zu verhindern, dass sie doppelt registiert werden m√ºssen. Sie implementiert dabei nur Methoden um die IServer-Methoden abgesichert aufzurufen. Die Getter-Methoden werden dabei direkt durchgeleitet. Alle Aktionsmethoden hingegen testen vorher, ob es nach den Spielregeln erlaubt ist, diesen Zug durchzuf√ºhren.
\subsubsection{Package triggers}
Damit die Ausf√ºhrung einer inform*-Methode nicht alle anderen Spieler blockert, wurde ein Executor hinzugef√ºgt. Der Executor f√ºhrt dabei die Ausf√ºhung der on*-Methoden innerhalb eines Threads aus, und erlaubt somit, dass in den on*-Methoden komplexe Dinge ausgef√ºhrt werden.

Dadurch werden alle Spieler informiert und bei √Ñnderungen haben die den aktuellen Zustand. So konnte es vorher sein, dass ein Spieler an der Reihe ist, aber die restlichen Spieler davon nix bekommen haben. Dieser hat dann eine Aktion durchgef√ºhrt, zum Beispiel der Bau eines Geb√§udes. Dadurch werden alle Spieler informiert bevor sie mitbekomme haben, dass jemand neu an der Reihe ist.
\subsubsection{Kleinere √Ñnderungen}
\begin{itemize}
\item Damit die inform*-Methoden auf jeden Fall aufgerufen werden, sind die jetzt final. Stattdessen werden abstrakte on*-Methoden aufgerufen/√ºberschrieben.
\end{itemize}

\section{Logik}
\subsection {√Ñnderungen gegen√ºber dem Entwurf}
\begin{itemize}
\item Da FieldRule und CardRule keinen Zweck erf√ºllt, wurde diese in Card und Field sowie dessen Unterklassen √ºbernommen.
\item Einige Actions wurden entfernt und einige hinzugef√ºgt
\end{itemize}

\end{itemize}
\end{document}

/*  Copyright (C) 2010 - 2011  Fabian Neundorf, Philip Caroli,
 *  Maximilian Madlung,	Usman Ghani Ahmed, Jeremias Mechler
 *
 *  This program is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *  
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU General Public License for more details.
 *  
 *  You should have received a copy of the GNU General Public License
 *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

package org.ojim.client.gui;

import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.GridLayout;
import java.awt.Insets;
import java.io.File;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.UIManager;
import javax.swing.UIManager.LookAndFeelInfo;

import org.ojim.client.ClientBase;
import org.ojim.client.gui.GameField.GameField;
import org.ojim.language.Localizer;
import org.ojim.language.LanguageDefinition;

public class GUIClient extends ClientBase {

	GUISettings settings;
	GameField gameField;
	ChatWindow chatWindow;
	PlayerInfoWindow playerInfoWindow;

	JFrame GUIFrame;
	

	private MenuState menuState;
	
	public GUIClient() {
		
		setMenuState(MenuState.mainMenu);

		
		// LanguageDefinition languageDefinition = new LanguageDefinition("Maximilian", "English", "English", "eng", new File("org/ojim/language/eng.lang") );
		LanguageDefinition languageDefinition = new LanguageDefinition("Maximilian", "deutsch", "German", "deu", new File("org/ojim/language/deu.lang") );
		
		Localizer language = new Localizer();
		language.getLanguages();
		
		
		//language.setLanguage("deu");
		language.setLanguage(languageDefinition);
		//language.setLanguage("fra");
		
		GUIFrame = new JFrame("OJim");

		
		MenuBar menubar = new MenuBar(language);

		GUIFrame.setJMenuBar(menubar);

		//LookAndFeel lookAndFeel = UIManager.getLookAndFeel();
		
		try {
		    for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {
		        if ("Windows".equals(info.getName())) {
		            UIManager.setLookAndFeel(info.getClassName());
		            break;
		        }
		        else if ("Nimbus".equals(info.getName())) {
		            UIManager.setLookAndFeel(info.getClassName());
		            break;
		        }
		        else if ("Metal".equals(info.getName())) {
		            UIManager.setLookAndFeel(info.getClassName());
		            break;
		        }
		    }
		// Keines der Standarddesigns vorhanden. Nimm das was du hast.
		} catch (Exception e) {
		    for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {
		    	try {
					UIManager.setLookAndFeel(info.getClassName());
				} catch (Exception e1) {
					// Kein Look and Feel
					e1.printStackTrace();
				}
		    }
		}

		//GridLayout experimentLayout = new GridLayout(0, 2);

		JPanel pane = new JPanel(new GridBagLayout());
		
		
		pane.addComponentListener(this);
		
        JButton button;
        
		GridBagConstraints c = new GridBagConstraints();

		button = new JButton("Upleft");
		c.fill = GridBagConstraints.BOTH;
		c.ipady = 40;      //make this component tall
		c.weighty = 0.7;
		c.weightx = c.weighty;
		
		c.gridwidth = 1;
		c.gridheight = 1;
		c.gridx = 0;
		c.gridy = 0;
		pane.add(button, c);

		button = new JButton("Right");
		c.fill = GridBagConstraints.BOTH;
		c.ipady = 40;      //make this component tall
		c.weightx = 0.3;
		c.weighty = 0.8;
		c.gridwidth = 1;
		c.gridheight = 1;
		c.gridx = 1;
		c.gridy = 0;
		pane.add(button, c);

		button = new JButton("Bottom");
		c.fill = GridBagConstraints.BOTH;
		c.ipady = 40;      //make this component tall
		c.weightx = 0.8;
		c.weighty = 0.2;
		c.gridwidth = 1;
		c.gridheight = 1;
		c.gridx = 0;
		c.gridy = 1;
		pane.add(button, c);
		
		button = new JButton("Downright");
		c.fill = GridBagConstraints.BOTH;
		c.ipady = 40;      //make this component tall
		c.weightx = 0.3;
		c.weighty = 0.2;
		c.gridwidth = 1;
		c.gridheight = 1;
		c.gridx = 1;
		c.gridy = 1;
		pane.add(button, c);
		
		
		

		GUIFrame.add(pane);
		
		GUIFrame.setSize(640, 360);
		
		GUIFrame.show();

	}
	
    public void componentResized(ComponentEvent e) {
        displayMessage(e.getComponent().getClass().getName() + " --- Resized ");            
    }
	
	public static void main (String[] args){
		new GUIClient();
	}

	public void setMenuState(MenuState menuState) {
		this.menuState = menuState;
	}

	public MenuState getMenuState() {
		return menuState;
	}

}
